<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GuÃ­a Comer Bagnolet</title>

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#1f2a44">

<style>
:root {
    --bg: #f2f2f2;
    --card: #ffffff;
    --text: #222;
    --accent: #2ecc71;
}
body.night {
    --bg: #121212;
    --card: #1e1e1e;
    --text: #f0f0f0;
    --accent: #f39c12;
}
body {
    margin: 0;
    font-family: system-ui, sans-serif;
    background: var(--bg);
    color: var(--text);
}
header {
    background: #1f2a44;
    color: white;
    padding: 15px;
    text-align: center;
}
.controls {
    display: flex;
    gap: 8px;
    padding: 10px;
    flex-wrap: wrap;
}
select, button {
    flex: 1;
    padding: 10px;
    border-radius: 8px;
    border: none;
}
button {
    background: var(--accent);
    color: white;
}
.card {
    background: var(--card);
    margin: 10px;
    padding: 15px;
    border-radius: 12px;
}
.btn {
    display: block;
    text-align: center;
    background: var(--accent);
    color: white;
    padding: 10px;
    border-radius: 8px;
    text-decoration: none;
    margin-top: 10px;
}
iframe {
    width: 100%;
    height: 280px;
    border: none;
    border-radius: 12px;
}
</style>
</head>

<body>

<header>
    <h2>ğŸ½ï¸ GuÃ­a Comer â€“ Bagnolet</h2>
    <p>Instalable Â· Offline Â· A pie</p>
</header>

<div class="controls">
    <select id="tipo">
        <option value="all">ğŸ´ Todo</option>
        <option value="comida">ğŸ¥— Comida</option>
        <option value="cena">ğŸŒ™ Cena</option>
    </select>

    <select id="distancia">
        <option value="25">ğŸš¶ Hasta 25 min</option>
        <option value="10">â±ï¸ Hasta 10 min</option>
    </select>

    <button onclick="toggleNight()">ğŸŒ™ Noche</button>
</div>

<div id="lista"></div>

<iframe src="https://www.google.com/maps?q=Hotel+Campanile+Paris+Est+Porte+de+Bagnolet&output=embed"></iframe>

<script>
const sitios = [
 {nombre:"Spicy Chick", tipo:"comida", min:10, url:"https://www.google.com/maps/dir/?api=1&origin=Hotel+Campanile+Bagnolet&destination=Spicy+Chick+Bagnolet&travelmode=walking"},
 {nombre:"Mayda Kebab", tipo:"comida", min:10, url:"https://www.google.com/maps/dir/?api=1&origin=Hotel+Campanile+Bagnolet&destination=Mayda+Kebab+Bagnolet&travelmode=walking"},
 {nombre:"FratÃ© Italian Kitchen", tipo:"cena", min:20, url:"https://www.google.com/maps/dir/?api=1&origin=Hotel+Campanile+Bagnolet&destination=FratÃ©+Italian+Kitchen&travelmode=walking"},
 {nombre:"Oâ€™Bois Pizza", tipo:"cena", min:20, url:"https://www.google.com/maps/dir/?api=1&origin=Hotel+Campanile+Bagnolet&destination=O'Bois+Pizza&travelmode=walking"},
 {nombre:"Chez Laxmi", tipo:"cena", min:15, url:"https://www.google.com/maps/dir/?api=1&origin=Hotel+Campanile+Bagnolet&destination=Chez+Laxmi&travelmode=walking"},
 {nombre:"Voyage du Palais", tipo:"cena", min:25, url:"https://www.google.com/maps/dir/?api=1&origin=Hotel+Campanile+Bagnolet&destination=Voyage+du+Palais&travelmode=walking"}
];

function render() {
    const tipo = tipoSel.value;
    const dist = distSel.value;
    lista.innerHTML = "";

    sitios.filter(s =>
        (tipo === "all" || s.tipo === tipo) &&
        s.min <= dist
    ).forEach(s => {
        lista.innerHTML += `
        <div class="card">
            <h3>${s.nombre}</h3>
            <p>â± ${s.min} min Â· ${s.tipo}</p>
            <a class="btn" href="${s.url}" target="_blank">ğŸš¶â€â™‚ï¸ Ir caminando</a>
        </div>`;
    });
}

function toggleNight() {
    document.body.classList.toggle("night");
}

const tipoSel = document.getElementById("tipo");
const distSel = document.getElementById("distancia");
const lista = document.getElementById("lista");

tipoSel.onchange = render;
distSel.onchange = render;

render();

// PWA
if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("sw.js");
}
</script>

</body>
</html>
